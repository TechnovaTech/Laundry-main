import { useEffect, useState } from 'react';\nimport { navigationDetector } from '@/utils/navigationDetection';\n\n/**\n * Hook to handle navigation-safe styling and get navigation information\n */\nexport const useNavigationSafe = () => {\n  const [hasThreeButtonNav, setHasThreeButtonNav] = useState(false);\n  const [bottomPadding, setBottomPadding] = useState('24px');\n\n  useEffect(() => {\n    // Initialize navigation detector if not already done\n    navigationDetector.init();\n    \n    // Get current navigation type\n    const hasThreeButton = navigationDetector.hasThreeButtonNavigation();\n    const padding = navigationDetector.getBottomPadding();\n    \n    setHasThreeButtonNav(hasThreeButton);\n    setBottomPadding(padding);\n  }, []);\n\n  /**\n   * Apply navigation-safe class to an element\n   */\n  const makeElementSafe = (element: HTMLElement | null) => {\n    if (element) {\n      navigationDetector.makeElementNavigationSafe(element);\n    }\n  };\n\n  /**\n   * Remove navigation-safe class from an element\n   */\n  const removeElementSafe = (element: HTMLElement | null) => {\n    if (element) {\n      navigationDetector.removeNavigationSafe(element);\n    }\n  };\n\n  /**\n   * Get CSS class names for navigation-safe styling\n   */\n  const getNavigationSafeClasses = (baseClasses: string = '') => {\n    const classes = [baseClasses];\n    \n    if (hasThreeButtonNav) {\n      classes.push('system-nav-safe');\n    }\n    \n    return classes.filter(Boolean).join(' ');\n  };\n\n  /**\n   * Get inline styles for navigation-safe bottom padding\n   */\n  const getNavigationSafeStyles = (additionalStyles: React.CSSProperties = {}) => {\n    return {\n      ...additionalStyles,\n      paddingBottom: `max(env(safe-area-inset-bottom), ${bottomPadding})`\n    };\n  };\n\n  return {\n    hasThreeButtonNav,\n    bottomPadding,\n    makeElementSafe,\n    removeElementSafe,\n    getNavigationSafeClasses,\n    getNavigationSafeStyles\n  };\n};\n\n/**\n * Hook specifically for pages with bottom content that needs protection\n */\nexport const usePageBottomSafe = () => {\n  const { hasThreeButtonNav, getNavigationSafeClasses } = useNavigationSafe();\n  \n  const getPageClasses = (baseClasses: string = '') => {\n    return getNavigationSafeClasses(`${baseClasses} page-bottom-content`);\n  };\n  \n  return {\n    hasThreeButtonNav,\n    getPageClasses\n  };\n};\n\n/**\n * Hook for pages with bottom navigation\n */\nexport const usePageWithBottomNav = () => {\n  const { hasThreeButtonNav, getNavigationSafeClasses } = useNavigationSafe();\n  \n  const getPageClasses = (baseClasses: string = '') => {\n    return getNavigationSafeClasses(`${baseClasses} page-with-bottom-nav`);\n  };\n  \n  return {\n    hasThreeButtonNav,\n    getPageClasses\n  };\n};